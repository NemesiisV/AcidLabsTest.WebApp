<div class="container">
  <mat-card class="card-space">
    <mat-toolbar class="toolbar-title">
        <h1>Users</h1>
        <div class="spacer-item"></div>
        <button mat-raised-button class="new-user-button" onmouseover="this.style.color='white'" onmouseleave="this.style.color='#551f8d'" [routerLink]="'/new-user'">New User</button>
    </mat-toolbar>
    <div *ngIf="users.length > 0;">
      <mat-form-field appearance="standard" class="filter-users">
        <mat-label>Filter</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="Enter a text" #input autocomplete="off">
      </mat-form-field>
      <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource">
          <mat-container matColumnDef="rut">
            <th mat-header-cell *matHeaderCellDef> RUT </th>
            <td mat-cell *matCellDef="let element"> {{element.rut}} </td>
          </mat-container>
          
          <mat-container matColumnDef="firstName">
            <th mat-header-cell *matHeaderCellDef> FirstName </th>
            <td mat-cell *matCellDef="let element"> {{element.firstName}} </td>
          </mat-container>
  
          <mat-container matColumnDef="lastName">
            <th mat-header-cell *matHeaderCellDef> LastName </th>
            <td mat-cell *matCellDef="let element"> {{element.lastName}} </td>
          </mat-container>
        
          <mat-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef> Email </th>
            <td mat-cell *matCellDef="let element"> {{element.email}} </td>
          </mat-container>
  
          <mat-container matColumnDef="actions">
              <th mat-header-cell *matHeaderCellDef> Actions </th>
              <td mat-cell *matCellDef="let element; let i = index" class="actions">
                  <a [routerLink]="'/user'" class="pointer view">
                    <mat-icon matTooltip="View user">search</mat-icon>
                  </a>
                  <a [routerLink]="'/update-user'" class="pointer edit">
                    <mat-icon matTooltip="Update user">edit</mat-icon>
                  </a>
                  <a (click)="deleteUser(i)" class="pointer delete">
                    <mat-icon matTooltip="Delete user">delete</mat-icon>
                  </a>
              </td>
            </mat-container>
        
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <mat-paginator [length]="100"
                [pageSize]="10"
                [pageSizeOptions]="[5, 10, 25, 100]"
                aria-label="Select page">
        </mat-paginator>
      </div>       
    </div>
    <h2 *ngIf="users.length == 0">There are no user records</h2>
  </mat-card>
  </div>